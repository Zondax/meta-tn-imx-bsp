From 05cc9f9b2c627d91ced27a822e4ec494fccfa0f5 Mon Sep 17 00:00:00 2001
From: Igor Opaniuk <igor.opaniuk@gmail.com>
Date: Tue, 21 Jul 2020 17:15:32 +0300
Subject: [PATCH] flex-imx8mm: fix dram initialization for 4GB board

Fix DRAM initialization for 4GB board.

Signed-off-by: Igor Opaniuk <igor.opaniuk@gmail.com>
---
 board/technexion/flex-imx8mm/flex-imx8mm.c | 4 ++--
 1 file changed, 2 insertions(+), 2 deletions(-)

diff --git a/board/technexion/flex-imx8mm/flex-imx8mm.c b/board/technexion/flex-imx8mm/flex-imx8mm.c
index ce1eecf5b0..91f26ebcb3 100644
--- a/board/technexion/flex-imx8mm/flex-imx8mm.c
+++ b/board/technexion/flex-imx8mm/flex-imx8mm.c
@@ -82,9 +82,9 @@ int dram_init(void)
 	if (ddr_size == 0x4) {
 		/* rom_pointer[1] contains the size of TEE occupies */
 		if (rom_pointer[1])
-			gd->ram_size = PHYS_SDRAM_SIZE_3GB - rom_pointer[1];
+			gd->ram_size = PHYS_SDRAM_SIZE_4GB - rom_pointer[1];
 		else
-			gd->ram_size = PHYS_SDRAM_SIZE_3GB;
+			gd->ram_size = PHYS_SDRAM_SIZE_4GB;
 	}
 	else if (ddr_size == 0x3) {
 		if (rom_pointer[1])
